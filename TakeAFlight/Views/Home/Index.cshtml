@{
    ViewData["Title"] = "Home Page";
}
@model TakeAFlight.Models.Flight


<link rel="stylesheet" href="~/css/site.css" />
<header class="display-container content" style="max-width:1500px;">
    <img class="image" src="~/images/aeroplane-air-aircraft-1004584.jpg" alt="Photo by Oleksandr Pidvalnyi from Pexels" style="width:100%" height="700">
    <div class="display-left padding w3-col l6 m8">
        <div class="container orange">
            <h2>Order Flight</h2>
        </div>
        <div class="container white padding-16">
            <form asp-controller="Flights" asp-action="Index">
                <div class="row-padding" style="margin:0 -16px;">
                    <div class="half margin-bottom">
                        <label>Travel the world with us</label>
                        <select asp-for="Destination" class="b" asp-items="ViewBag.Items" name="DestId"></select>
                        <span asp-validation-for="Destination" class="a"></span>
                    </div>
                </div>
                <div class="half">
                    <label>Departure:  </label>
                    <input type="date" name="Departure" value="2019-01-08"/>
                </div>

                <div>
                    <label>Price:</label>
                    <input type="text" name="price" />
                </div>


                <div class="row-padding" style="margin:8px -16px;"></div>
                <div class="half margin-bottom"></div>
                <button class="button dark-grey" type="submit">Search flights</button>
            </form>
        </div>
    </div>
</header>

<!-- Page content -->
<div class="content" style="max-width:1100px;">

    <!-- Good offers -->
    
    <div class="container margin-top">
        <h3>Good Offers Right Now</h3>
        <h6>Up to <strong>50%</strong> discount.</h6>
    </div>
    <div class="row-padding padding-16 text-white large">
        :before
        <div class="half margin-bottom">
            <div class="display-container">
                <img src="~/images/paris.jpg" alt="Paris" style="float:left;width:100%;height:100%;object-fit:cover" />
                <span class="display-bottomleft padding">Paris</span>
            </div>
        </div>
        <div class="half">
            <div class="row-padding" style="margin:0 -16px">
                <div class="half margin-bottom">
                    <div class="display-container">
                        <img src="~/images/amsterdam.jpg" alt="amsterdam" style="float:left;width:100%;height:100%;object-fit:cover">
                        <span class="display-bottomleft padding">Amsterdam</span>
                    </div>
                </div>
                <div class="half margin-bottom">
                    <div class="display-container">
                        <img src="~/images/prague.jpg" alt="prague" style="width:100%">
                        <span class="display-bottomleft padding">Prague</span>
                    </div>
                </div>
            </div>
            <div class="row-padding" style="margin:0 -16px">
                <div class="half margin-bottom">
                    <div class="display-container">
                        <img src="~/images/bern.jpg" alt="Bern" style="width:100%">
                        <span class="display-bottomleft padding">Bern</span>
                    </div>
                </div>
                <div class="half margin-bottom">
                    <div class="display-container">
                        <img src="~/images/Berlin.jpeg" alt="Berlin" style="width:100%">
                        <span class="display-bottomleft padding">Berlin</span>
                    </div>
                </div>
            </div>
        </div>
        
        :after
    </div>
</div>

<!-- Explore Nature -->
<div class="container">
    <h3>Explore Nature</h3>
    <p>Travel with us and see nature at its finest.</p>
</div>
<div class="row-padding">
    <div class="half margin-bottom img">
        <img src="~/images/bern.jpg" alt="Norway" style="width:100%">
        <div class="container white">
            <h3>West Coast, Norway</h3>
            <p class="opacity">Roundtrip from $79</p>
            <p>Praesent tincidunt sed tellus ut rutrum sed vitae justo.</p>
            <button class="button margin-bottom">Buy Tickets</button>
        </div>
    </div>
    <div class="half margin-bottom img">
        <img src="~/images/italian-landscape-mountains-nature.jpg" alt="italian-landscape-mountains-nature" style="width:100%">
        <div class="container white">
            <h3>Mountains, Austria</h3>
            <p class="opacity">One-way from $39</p>
            <p>Praesent tincidunt sed tellus ut rutrum sed vitae justo.</p>
            <button class="button margin-bottom">Buy Tickets</button>
        </div>
    </div>
</div>

<!-- GoogleMapsAPI -->
<div class="container ">
    <div class="panel padding-16 card ">
        <h2>Still undecided? Explore our map</h2>
        <div id="map"></div>
    </div>
</div>

<!-- WeatherApi -->
<script>
    $(document).ready(function () {
        $("button").click(function () {
            $.get("https://api.openweathermap.org/data/2.5/weather?q=London&APPID=9175ff39671c7153c41914edb620f4e7", function (response) {
                $("#reply").text(JSON.stringify(response));
                console.log(response.weather[0].icon);
            });
        });
    });
</script>

<section>
    <button>Get Weather</button>
    <p id="reply"></p>
</section>


<!-- Video  -->
<div class="container ">
    <div class="panel padding-16 card ">
        <h2>Top 10 Best Cities to Visit in Europe</h2>
        <video id="video1" controls="controls" style="width:100%;">
            <source src="~/video/videoplayback.mp4" type="video/mp4" />
        </video>
    </div>
</div>

<!-- Newsletter -->
<div class="container">
    <div class="panel padding-16 black opacity card hover-opacity-off">
        <h2>Get the best offers first!</h2>
        <p>Join our newsletter.</p>
        <label>E-mail</label>
        <input class="input border" type="text" placeholder="Your Email address">
        <button type="button" class="button red margin-top">Subscribe</button>
    </div>
</div>


<!-- End page content -->

<script>
    function myMap() {
        $(document).ready(function () {

            var geocoder = new google.maps.Geocoder();
            var mapOptions = {
                center: new google.maps.LatLng(51.5, -0.12),
                zoom: 2
            }
            var map = new google.maps.Map(document.getElementById("map"), mapOptions);
            $.post("Home/GetDestinations", function (data, status) {
                for (var i = 0; i < data.length; i++) {

                    geocoder.geocode({ 'address': data[i].city }, function (results, status) {
                        if (status == google.maps.GeocoderStatus.OK) {
                            newAddress = results[0].geometry.location;
                            var latlng = new google.maps.LatLng(parseFloat(newAddress.lat()), parseFloat(newAddress.lng()));

                            var marker = new google.maps.Marker({ position: latlng });
                            marker.setMap(map);
                        }
                    });
                }
            });
        });
    }
</script>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA4wKu5B_svVdh8tMLTOYElviaptWJBTlw&callback=myMap"></script>
